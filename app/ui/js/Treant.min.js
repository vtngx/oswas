/*!
 * Start Bootstrap - SB Admin 2 v4.1.3 (https://startbootstrap.com/theme/sb-admin-2)
 * Copyright 2013-2021 Start Bootstrap
 * Licensed under MIT (https://github.com/StartBootstrap/startbootstrap-sb-admin-2/blob/master/LICENSE)
 */

!function(){String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return this.substr(e||0,t.length)===t});function i(){this.reset()}var o=null,d={inheritAttrs:function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]instanceof Object&&e[i]instanceof Object&&"function"!=typeof e[i]?this.inheritAttrs(t[i],e[i]):t[i]=e[i]);return t},createMerge:function(t,e){var i={};return t&&this.inheritAttrs(i,this.cloneObj(t)),e&&this.inheritAttrs(i,e),i},extend:function(){return o?(Array.prototype.unshift.apply(arguments,[!0,{}]),o.extend.apply(o,arguments)):d.createMerge.apply(this,arguments)},cloneObj:function(t){if(Object(t)!==t)return t;var e,i=new t.constructor;for(e in t)t.hasOwnProperty(e)&&(i[e]=this.cloneObj(t[e]));return i},addEvent:function(t,e,i){o?o(t).on(e+".treant",i):t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i},findEl:function(t,e,i){if(i=i||document,o){var n=o(t,i);return e?n.get(0):n}if("#"==t.charAt(0))return i.getElementById(t.substring(1));if("."!=t.charAt(0))throw new Error("Unknown container element");t=i.getElementsByClassName(t.substring(1));return t.length?t[0]:null},getOuterHeight:function(t){return"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect().height:o?Math.ceil(o(t).outerHeight())+1:Math.ceil(t.clientHeight+d.getStyle(t,"border-top-width",!0)+d.getStyle(t,"border-bottom-width",!0)+d.getStyle(t,"padding-top",!0)+d.getStyle(t,"padding-bottom",!0)+1)},getOuterWidth:function(t){return"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect().width:o?Math.ceil(o(t).outerWidth())+1:Math.ceil(t.clientWidth+d.getStyle(t,"border-left-width",!0)+d.getStyle(t,"border-right-width",!0)+d.getStyle(t,"padding-left",!0)+d.getStyle(t,"padding-right",!0)+1)},getStyle:function(t,e,i){var n="";return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,"").getPropertyValue(e):t.currentStyle&&(e=e.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()}),n=t.currentStyle[e]),i?parseFloat(n):n},addClass:function(t,e){o?o(t).addClass(e):d.hasClass(t,e)||(t.classList?t.classList.add(e):t.className+=" "+e)},hasClass:function(t,e){return-1<(" "+t.className+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")},toggleClass:function(t,e,i){o?o(t).toggleClass(e,i):i?t.classList.add(e):t.classList.remove(e)},setDimensions:function(t,e,i){o?o(t).width(e).height(i):(t.style.width=e+"px",t.style.height=i+"px")}};i.prototype={reset:function(){return this.loading=[],this},processNode:function(t){for(var e=t.nodeDOM.getElementsByTagName("img"),i=e.length;i--;)this.create(t,e[i]);return this},removeAll:function(t){for(var e=this.loading.length;e--;)this.loading[e]===t&&this.loading.splice(e,1);return this},create:function(t,e){var i=this,n=e.src;function r(){i.removeAll(n),t.width=t.nodeDOM.offsetWidth,t.height=t.nodeDOM.offsetHeight}if(0!==e.src.indexOf("data:")){if(this.loading.push(n),e.complete)return r();d.addEvent(e,"load",r),d.addEvent(e,"error",r),e.src+=(0<e.src.indexOf("?")?"&":"?")+(new Date).getTime()}else r()},isNotLoading:function(){return 0===this.loading.length}};var n={store:[],createTree:function(t){var e=this.store.length;return this.store.push(new r(t,e)),this.get(e)},get:function(t){return this.store[t]},destroy:function(t){var e=this.get(t);if(e){e._R.remove();for(var i=e.drawArea;i.firstChild;)i.removeChild(i.firstChild);for(var n=i.className.split(" "),r=[],o=0;o<n.length;o++){var s=n[o];"Treant"!=s&&"Treant-loaded"!=s&&r.push(s)}i.style.overflowY="",i.style.overflowX="",i.className=r.join(" "),this.store[t]=null}return this}},r=function(t,e){this.reset=function(t,e){if(this.initJsonConfig=t,this.initTreeId=e,this.id=e,this.CONFIG=d.extend(r.CONFIG,t.chart),this.drawArea=d.findEl(this.CONFIG.container,!0),!this.drawArea)throw new Error('Failed to find element by selector "'+this.CONFIG.container+'"');return d.addClass(this.drawArea,"Treant"),this.drawArea.innerHTML="",this.imageLoader=new i,this.nodeDB=new s(t.nodeStructure,this),this.connectionStore={},this.loaded=!1,this._R=new Raphael(this.drawArea,100,100),this},this.reload=function(){return this.reset(this.initJsonConfig,this.initTreeId).redraw(),this},this.reset(t,e)};r.prototype={getNodeDb:function(){return this.nodeDB},addNode:function(t,e){this.nodeDB.get(t.id);this.CONFIG.callback.onBeforeAddNode.apply(this,[t,e]);var i=this.nodeDB.createNode(e,t.id,this);return i.createGeometry(this),i.parent().createSwitchGeometry(this),this.positionTree(),this.CONFIG.callback.onAfterAddNode.apply(this,[i,t,e]),i},redraw:function(){return this.positionTree(),this},positionTree:function(t){var e,i=this;return this.imageLoader.isNotLoading()?(e=this.root(),this.CONFIG.rootOrientation,this.resetLevelData(),this.firstWalk(e,0),this.secondWalk(e,0,0,0),this.positionNodes(),this.CONFIG.animateOnInit&&setTimeout(function(){e.toggleCollapse()},this.CONFIG.animateOnInitDelay),this.loaded||(d.addClass(this.drawArea,"Treant-loaded"),"[object Function]"===Object.prototype.toString.call(t)&&t(i),i.CONFIG.callback.onTreeLoaded.apply(i,[e]),this.loaded=!0)):setTimeout(function(){i.positionTree(t)},10),this},firstWalk:function(t,e){t.prelim=null,t.modifier=null,this.setNeighbors(t,e),this.calcLevelDim(t,e);var i=t.leftSibling();if(0===t.childrenCount()||e==this.CONFIG.maxDepth)t.prelim=i?i.prelim+i.size()+this.CONFIG.siblingSeparation:0;else{for(var n=0,r=t.childrenCount();n<r;n++)this.firstWalk(t.childAt(n),e+1);var o=t.childrenCenter()-t.size()/2;i?(t.prelim=i.prelim+i.size()+this.CONFIG.siblingSeparation,t.modifier=t.prelim-o,this.apportion(t,e)):t.prelim=o,t.stackParent?t.modifier+=this.nodeDB.get(t.stackChildren[0]).size()/2+t.connStyle.stackIndent:t.stackParentId&&(t.prelim=0)}return this},apportion:function(t,e){for(var i=t.firstChild(),n=i.leftNeighbor(),r=1,o=this.CONFIG.maxDepth-e;i&&n&&r<=o;){for(var s=0,h=0,a=n,l=i,d=0;d<r;d++)a=a.parent(),l=l.parent(),h+=a.modifier,s+=l.modifier,void 0!==l.stackParent&&(s+=l.size()/2);var c=n.prelim+h+n.size()+this.CONFIG.subTeeSeparation-(i.prelim+s);if(0<c){for(var u=t,p=0;u&&u.id!=a.id;)u=u.leftSibling(),p++;if(u)for(var f=t,g=c/p;f.id!=a.id;)f.prelim+=c,f.modifier+=c,c-=g,f=f.leftSibling()}r++,(i=0===i.childrenCount()?t.leftMost(0,r):i.firstChild())&&(n=i.leftNeighbor())}},secondWalk:function(t,e,i,n){var r,o,s,h,a,l;e<=this.CONFIG.maxDepth&&(r=t.prelim+i,l=n,o=this.CONFIG.nodeAlign,"NORTH"==(s=this.CONFIG.rootOrientation)||"SOUTH"==s?(h=this.levelMaxDim[e].height,a=t.height,t.pseudo&&(t.height=h)):"WEST"!=s&&"EAST"!=s||(h=this.levelMaxDim[e].width,a=t.width,t.pseudo&&(t.width=h)),t.X=r,t.pseudo?"NORTH"==s||"WEST"==s?t.Y=l:"SOUTH"!=s&&"EAST"!=s||(t.Y=l+(h-a)):t.Y="CENTER"==o?l+(h-a)/2:"TOP"==o?l+(h-a):l,"WEST"!=s&&"EAST"!=s||(l=t.X,t.X=t.Y,t.Y=l),"SOUTH"==s?t.Y=-t.Y-a:"EAST"==s&&(t.X=-t.X-a),0!==t.childrenCount()&&(0===t.id&&this.CONFIG.hideRootNode?this.secondWalk(t.firstChild(),e+1,i+t.modifier,n):this.secondWalk(t.firstChild(),e+1,i+t.modifier,n+h+this.CONFIG.levelSeparation)),t.rightSibling()&&this.secondWalk(t.rightSibling(),e,i,n))},positionNodes:function(){var t=this,e={x:t.nodeDB.getMinMaxCoord("X",null,null),y:t.nodeDB.getMinMaxCoord("Y",null,null)},i=e.x.max-e.x.min,n=e.y.max-e.y.min,r={x:e.x.max-i/2,y:e.y.max-n/2};this.handleOverflow(i,n);for(var o={x:t.drawArea.clientWidth/2,y:t.drawArea.clientHeight/2},s=o.x-r.x,h=o.y-r.y,a=e.x.min+s<=0?Math.abs(e.x.min):0,l=e.y.min+h<=0?Math.abs(e.y.min):0,d=0,c=this.nodeDB.db.length;d<c;d++){var u,p,f=this.nodeDB.get(d);t.CONFIG.callback.onBeforePositionNode.apply(t,[f,d,o,r]),0===f.id&&this.CONFIG.hideRootNode?t.CONFIG.callback.onAfterPositionNode.apply(t,[f,d,o,r]):(f.X+=a+(i<this.drawArea.clientWidth?s:this.CONFIG.padding),f.Y+=l+(n<this.drawArea.clientHeight?h:this.CONFIG.padding),p=null,(u=f.collapsedParent())?(p=u.connectorPoint(!0),f.hide(p)):f.positioned?f.show():(f.nodeDOM.style.left=f.X+"px",f.nodeDOM.style.top=f.Y+"px",f.positioned=!0),0===f.id||0===f.parent().id&&this.CONFIG.hideRootNode?!this.CONFIG.hideRootNode&&f.drawLineThrough&&f.drawLineThroughMe():this.setConnectionToParent(f,p),t.CONFIG.callback.onAfterPositionNode.apply(t,[f,d,o,r]))}return this},handleOverflow:function(t,e){var i=t<this.drawArea.clientWidth?this.drawArea.clientWidth:t+2*this.CONFIG.padding,n=e<this.drawArea.clientHeight?this.drawArea.clientHeight:e+2*this.CONFIG.padding;return this._R.setSize(i,n),"resize"==this.CONFIG.scrollbar?d.setDimensions(this.drawArea,i,n):null==o||"native"==this.CONFIG.scrollbar?(this.drawArea.clientWidth<t&&(this.drawArea.style.overflowX="auto"),this.drawArea.clientHeight<e&&(this.drawArea.style.overflowY="auto")):"fancy"==this.CONFIG.scrollbar&&((e=o(this.drawArea)).hasClass("ps-container")?(e.find(".Treant").css({width:i,height:n}),e.perfectScrollbar("update")):((e=e.wrapInner('<div class="Treant"/>')).find(".Treant").css({width:i,height:n}),e.perfectScrollbar())),this},setConnectionToParent:function(t,e){var i,n=t.stackParentId,r=n?this.nodeDB.get(n):t.parent(),n=e?this.getPointPathString(e):this.getPathString(r,t,n);return this.connectionStore[t.id]?(i=this.connectionStore[t.id],this.animatePath(i,n)):(i=this._R.path(n),this.connectionStore[t.id]=i,t.pseudo&&delete r.connStyle.style["arrow-end"],r.pseudo&&delete r.connStyle.style["arrow-start"],i.attr(r.connStyle.style),(t.drawLineThrough||t.pseudo)&&t.drawLineThroughMe(e)),t.connector=i,this},getPointPathString:function(t){return["_M",t.x,",",t.y,"L",t.x,",",t.y,t.x,",",t.y].join(" ")},animatePath:function(t,e){return t.hidden&&"_"!==e.charAt(0)&&(t.show(),t.hidden=!1),t.animate({path:"_"===e.charAt(0)?e.substring(1):e},this.CONFIG.animation.connectorsSpeed,this.CONFIG.animation.connectorsAnimation,function(){"_"===e.charAt(0)&&(t.hide(),t.hidden=!0)}),this},getPathString:function(t,e,i){var n=t.connectorPoint(!0),r=e.connectorPoint(!1),o=this.CONFIG.rootOrientation,s=t.connStyle.type,h={},a={};"NORTH"==o||"SOUTH"==o?(h.y=a.y=(n.y+r.y)/2,h.x=n.x,a.x=r.x):"EAST"!=o&&"WEST"!=o||(h.x=a.x=(n.x+r.x)/2,h.y=n.y,a.y=r.y);var l,d,c=n.x+","+n.y,u=h.x+","+h.y,p=a.x+","+a.y,e=r.x+","+r.y,a=(h.x+a.x)/2+","+(h.y+a.y)/2;return i?(i="EAST"==o||"WEST"==o?r.x+","+n.y:n.x+","+r.y,"step"==s||"straight"==s?l=["M",c,"L",i,"L",e]:"curve"!=s&&"bCurve"!=s||(t=t.connStyle.stackIndent,"NORTH"==o?d=r.x-t+","+(r.y-t):"SOUTH"==o?d=r.x-t+","+(r.y+t):"EAST"==o?d=r.x+t+","+n.y:"WEST"==o&&(d=r.x-t+","+n.y),l=["M",c,"L",d,"S",i,e])):"step"==s?l=["M",c,"L",u,"L",p,"L",e]:"curve"==s?l=["M",c,"C",u,p,e]:"bCurve"==s?l=["M",c,"Q",u,a,"T",e]:"straight"==s&&(l=["M",c,"L",c,e]),l.join(" ")},setNeighbors:function(t,e){return t.leftNeighborId=this.lastNodeOnLevel[e],t.leftNeighborId&&(t.leftNeighbor().rightNeighborId=t.id),this.lastNodeOnLevel[e]=t.id,this},calcLevelDim:function(t,e){return this.levelMaxDim[e]={width:Math.max(this.levelMaxDim[e]?this.levelMaxDim[e].width:0,t.width),height:Math.max(this.levelMaxDim[e]?this.levelMaxDim[e].height:0,t.height)},this},resetLevelData:function(){return this.lastNodeOnLevel=[],this.levelMaxDim=[],this},root:function(){return this.nodeDB.get(0)}};var s=function(t,e){this.reset(t,e)};s.prototype={reset:function(t,a){this.db=[];var l=this;return a.CONFIG.animateOnInit&&(t.collapsed=!0),function t(e,i){var n=l.createNode(e,i,a,null);if(e.children){if(e.childrenDropLevel&&0<e.childrenDropLevel)for(;e.childrenDropLevel--;){var r=d.cloneObj(n.connStyle);(n=l.createNode("pseudo",n.id,a,null)).connStyle=r,n.children=[]}var o=e.stackChildren&&!l.hasGrandChildren(e)?n.id:null;null!==o&&(n.stackChildren=[]);for(var s=0,h=e.children.length;s<h;s++)null!==o?(n=l.createNode(e.children[s],n.id,a,o),s+1<h&&(n.children=[])):t(e.children[s],n.id)}}(t,-1),this.createGeometries(a),this},createGeometries:function(t){for(var e=this.db.length;e--;)this.get(e).createGeometry(t);return this},get:function(t){return this.db[t]},walk:function(t){for(var e=this.db.length;e--;)t.apply(this,[this.get(e)]);return this},createNode:function(t,e,i,n){i=new h(t,this.db.length,e,i,n);return this.db.push(i),0<=e&&(e=this.get(e),!t.position||"left"==t.position?e.children.push(i.id):"right"==t.position?e.children.splice(0,0,i.id):"center"==t.position?e.children.splice(Math.floor(e.children.length/2),0,i.id):(t=parseInt(t.position),1==e.children.length&&0<t?e.children.splice(0,0,i.id):e.children.splice(Math.max(t,e.children.length-1),0,i.id))),n&&(this.get(n).stackParent=!0,this.get(n).stackChildren.push(i.id)),i},getMinMaxCoord:function(t,e,i){e=e||this.get(0),i=i||{min:e[t],max:e[t]+("X"==t?e.width:e.height)};for(var n=e.childrenCount();n--;){var r=e.childAt(n),o=r[t]+("X"==t?r.width:r.height),s=r[t];o>i.max&&(i.max=o),s<i.min&&(i.min=s),this.getMinMaxCoord(t,r,i)}return i},hasGrandChildren:function(t){for(var e=t.children.length;e--;)if(t.children[e].children)return!0;return!1}};var h=function(t,e,i,n,r){this.reset(t,e,i,n,r)};h.prototype={reset:function(t,e,i,n,r){return this.id=e,this.parentId=i,this.treeId=n.id,this.prelim=0,this.modifier=0,this.leftNeighborId=null,this.stackParentId=r,this.pseudo="pseudo"===t||t.pseudo,this.meta=t.meta||{},this.image=t.image||null,this.link=d.createMerge(n.CONFIG.node.link,t.link),this.connStyle=d.createMerge(n.CONFIG.connectors,t.connectors),this.connector=null,this.drawLineThrough=!1!==t.drawLineThrough&&(t.drawLineThrough||n.CONFIG.node.drawLineThrough),this.collapsable=!1!==t.collapsable&&(t.collapsable||n.CONFIG.node.collapsable),this.collapsed=t.collapsed,this.text=t.text,this.nodeInnerHTML=t.innerHTML,this.nodeHTMLclass=(n.CONFIG.node.HTMLclass||"")+(t.HTMLclass?" "+t.HTMLclass:""),this.nodeHTMLid=t.HTMLid,this.children=[],this},getTree:function(){return n.get(this.treeId)},getTreeConfig:function(){return this.getTree().CONFIG},getTreeNodeDb:function(){return this.getTree().getNodeDb()},lookupNode:function(t){return this.getTreeNodeDb().get(t)},Tree:function(){return n.get(this.treeId)},dbGet:function(t){return this.getTreeNodeDb().get(t)},size:function(){var t=this.getTreeConfig().rootOrientation;return this.pseudo?-this.getTreeConfig().subTeeSeparation:"NORTH"==t||"SOUTH"==t?this.width:"WEST"==t||"EAST"==t?this.height:void 0},childrenCount:function(){return this.collapsed||!this.children?0:this.children.length},childAt:function(t){return this.dbGet(this.children[t])},firstChild:function(){return this.childAt(0)},lastChild:function(){return this.childAt(this.children.length-1)},parent:function(){return this.lookupNode(this.parentId)},leftNeighbor:function(){if(this.leftNeighborId)return this.lookupNode(this.leftNeighborId)},rightNeighbor:function(){if(this.rightNeighborId)return this.lookupNode(this.rightNeighborId)},leftSibling:function(){var t=this.leftNeighbor();if(t&&t.parentId==this.parentId)return t},rightSibling:function(){var t=this.rightNeighbor();if(t&&t.parentId==this.parentId)return t},childrenCenter:function(){var t=this.firstChild(),e=this.lastChild();return t.prelim+(e.prelim-t.prelim+e.size())/2},collapsedParent:function(){var t=this.parent();return!!t&&(t.collapsed?t:t.collapsedParent())},leftMost:function(t,e){if(e<=t)return this;if(0!==this.childrenCount())for(var i=0,n=this.childrenCount();i<n;i++){var r=this.childAt(i).leftMost(t+1,e);if(r)return r}},connectorPoint:function(t){var e=this.Tree().CONFIG.rootOrientation,i={};return this.stackParentId&&("NORTH"==e||"SOUTH"==e?e="WEST":"EAST"!=e&&"WEST"!=e||(e="NORTH")),"NORTH"==e?(i.x=this.pseudo?this.X-this.Tree().CONFIG.subTeeSeparation/2:this.X+this.width/2,i.y=t?this.Y+this.height:this.Y):"SOUTH"==e?(i.x=this.pseudo?this.X-this.Tree().CONFIG.subTeeSeparation/2:this.X+this.width/2,i.y=t?this.Y:this.Y+this.height):"EAST"==e?(i.x=t?this.X:this.X+this.width,i.y=this.pseudo?this.Y-this.Tree().CONFIG.subTeeSeparation/2:this.Y+this.height/2):"WEST"==e&&(i.x=t?this.X+this.width:this.X,i.y=this.pseudo?this.Y-this.Tree().CONFIG.subTeeSeparation/2:this.Y+this.height/2),i},pathStringThrough:function(){var t=this.connectorPoint(!0),e=this.connectorPoint(!1);return["M",t.x+","+t.y,"L",e.x+","+e.y].join(" ")},drawLineThroughMe:function(t){var e=t?this.Tree().getPointPathString(t):this.pathStringThrough();this.lineThroughMe=this.lineThroughMe||this.Tree()._R.path(e);e=d.cloneObj(this.connStyle.style);delete e["arrow-start"],delete e["arrow-end"],this.lineThroughMe.attr(e),t&&(this.lineThroughMe.hide(),this.lineThroughMe.hidden=!0)},addSwitchEvent:function(e){var i=this;d.addEvent(e,"click",function(t){return t.preventDefault(),!1!==i.getTreeConfig().callback.onBeforeClickCollapseSwitch.apply(i,[e,t])&&(i.toggleCollapse(),void i.getTreeConfig().callback.onAfterClickCollapseSwitch.apply(i,[e,t]))})},collapse:function(){return this.collapsed||this.toggleCollapse(),this},expand:function(){return this.collapsed&&this.toggleCollapse(),this},toggleCollapse:function(){var t,e=this.getTree();return e.inAnimation||(e.inAnimation=!0,this.collapsed=!this.collapsed,d.toggleClass(this.nodeDOM,"collapsed",this.collapsed),e.positionTree(),t=this,setTimeout(function(){e.inAnimation=!1,e.CONFIG.callback.onToggleCollapseFinished.apply(e,[t,t.collapsed])},e.CONFIG.animation.nodeSpeed>e.CONFIG.animation.connectorsSpeed?e.CONFIG.animation.nodeSpeed:e.CONFIG.animation.connectorsSpeed)),this},hide:function(t){t=t||!1;var e=this.hidden;this.hidden=!0,this.nodeDOM.style.overflow="hidden";var i=this.getTree(),n=this.getTreeConfig(),r={opacity:0};return t&&(r.left=t.x,r.top=t.y),!this.positioned||e?(this.nodeDOM.style.visibility="hidden",o?o(this.nodeDOM).css(r):(this.nodeDOM.style.left=r.left+"px",this.nodeDOM.style.top=r.top+"px"),this.positioned=!0):o?o(this.nodeDOM).animate(r,n.animation.nodeSpeed,n.animation.nodeAnimation,function(){this.style.visibility="hidden"}):(this.nodeDOM.style.transition="all "+n.animation.nodeSpeed+"ms ease",this.nodeDOM.style.transitionProperty="opacity, left, top",this.nodeDOM.style.opacity=r.opacity,this.nodeDOM.style.left=r.left+"px",this.nodeDOM.style.top=r.top+"px",this.nodeDOM.style.visibility="hidden"),this.lineThroughMe&&(r=i.getPointPathString(t),e?this.lineThroughMe.attr({path:r}):i.animatePath(this.lineThroughMe,i.getPointPathString(t))),this},hideConnector:function(){var t=this.Tree(),e=t.connectionStore[this.id];return e&&e.animate({opacity:0},t.CONFIG.animation.connectorsSpeed,t.CONFIG.animation.connectorsAnimation),this},show:function(){this.hidden;this.hidden=!1,this.nodeDOM.style.visibility="visible";this.Tree();var t={left:this.X,top:this.Y,opacity:1},e=this.getTreeConfig();return o?o(this.nodeDOM).animate(t,e.animation.nodeSpeed,e.animation.nodeAnimation,function(){this.style.overflow=""}):(this.nodeDOM.style.transition="all "+e.animation.nodeSpeed+"ms ease",this.nodeDOM.style.transitionProperty="opacity, left, top",this.nodeDOM.style.left=t.left+"px",this.nodeDOM.style.top=t.top+"px",this.nodeDOM.style.opacity=t.opacity,this.nodeDOM.style.overflow=""),this.lineThroughMe&&this.getTree().animatePath(this.lineThroughMe,this.pathStringThrough()),this},showConnector:function(){var t=this.Tree(),e=t.connectionStore[this.id];return e&&e.animate({opacity:1},t.CONFIG.animation.connectorsSpeed,t.CONFIG.animation.connectorsAnimation),this}},h.prototype.buildNodeFromText=function(t){if(this.image&&(image=document.createElement("img"),image.src=this.image,t.appendChild(image)),this.text)for(var e in this.text){e.startsWith("data-")&&t.setAttribute(e,this.text[e]);var i=document.createElement(this.text[e].href?"a":"p");this.text[e].href&&(i.href=this.text[e].href,this.text[e].target&&(i.target=this.text[e].target)),i.className="node-"+e,i.appendChild(document.createTextNode(this.text[e].val||(this.text[e]instanceof Object?"'val' param missing!":this.text[e]))),t.appendChild(i)}return t},h.prototype.buildNodeFromHtml=function(t){var e;return"#"===this.nodeInnerHTML.charAt(0)?(e=document.getElementById(this.nodeInnerHTML.substring(1)))?((t=e.cloneNode(!0)).id+="-clone",t.className+=" node"):t.innerHTML="<b> Wrong ID selector </b>":t.innerHTML=this.nodeInnerHTML,t},h.prototype.createGeometry=function(t){if(0===this.id&&t.CONFIG.hideRootNode)return this.width=0,void(this.height=0);var e=t.drawArea,i=document.createElement(this.link.href?"a":"div");i.className=this.pseudo?"pseudo":h.CONFIG.nodeHTMLclass,this.nodeHTMLclass&&!this.pseudo&&(i.className+=" "+this.nodeHTMLclass),this.nodeHTMLid&&(i.id=this.nodeHTMLid),this.link.href&&(i.href=this.link.href,i.target=this.link.target),o?o(i).data("treenode",this):i.data={treenode:this},this.pseudo||(i=this.nodeInnerHTML?this.buildNodeFromHtml(i):this.buildNodeFromText(i),(this.collapsed||this.collapsable&&this.childrenCount()&&!this.stackParentId)&&this.createSwitchGeometry(t,i)),t.CONFIG.callback.onCreateNode.apply(t,[this,i]),e.appendChild(i),this.width=i.offsetWidth,this.height=i.offsetHeight,this.nodeDOM=i,t.imageLoader.processNode(this)},h.prototype.createSwitchGeometry=function(t,e){e=e||this.nodeDOM;var i=d.findEl(".collapse-switch",!0,e);return i||((i=document.createElement("a")).className="collapse-switch",e.appendChild(i),this.addSwitchEvent(i),this.collapsed&&(e.className+=" collapsed"),t.CONFIG.callback.onCreateNodeCollapseSwitch.apply(t,[this,e,i])),i},r.CONFIG={maxDepth:100,rootOrientation:"NORTH",nodeAlign:"CENTER",levelSeparation:30,siblingSeparation:30,subTeeSeparation:30,hideRootNode:!1,animateOnInit:!1,animateOnInitDelay:500,padding:15,scrollbar:"native",connectors:{type:"curve",style:{stroke:"black"},stackIndent:15},node:{link:{target:"_self"}},animation:{nodeSpeed:450,nodeAnimation:"linear",connectorsSpeed:450,connectorsAnimation:"linear"},callback:{onCreateNode:function(t,e){},onCreateNodeCollapseSwitch:function(t,e,i){},onAfterAddNode:function(t,e,i){},onBeforeAddNode:function(t,e){},onAfterPositionNode:function(t,e,i,n){},onBeforePositionNode:function(t,e,i,n){},onToggleCollapseFinished:function(t,e){},onAfterClickCollapseSwitch:function(t,e){},onBeforeClickCollapseSwitch:function(t,e){},onTreeLoaded:function(t){}}},h.CONFIG={nodeHTMLclass:"node"};function t(t,e,i){t instanceof Array&&(t=a.make(t)),i&&(o=i),this.tree=n.createTree(t),this.tree.positionTree(e)}var e,a={make:function(t){var e,i=t.length;for(this.jsonStructure={chart:null,nodeStructure:null};i--;)(e=t[i]).hasOwnProperty("container")?this.jsonStructure.chart=e:e.hasOwnProperty("parent")||e.hasOwnProperty("container")||((this.jsonStructure.nodeStructure=e)._json_id=0);return this.findChildren(t),this.jsonStructure},findChildren:function(t){for(var e=[0];e.length;){for(var i=e.pop(),n=this.findNode(this.jsonStructure.nodeStructure,i),r=0,o=t.length,s=[];r<o;r++){var h=t[r];h.parent&&h.parent._json_id==i&&(h._json_id=this.getID(),delete h.parent,s.push(h),e.push(h._json_id))}s.length&&(n.children=s)}},findNode:function(t,e){var i,n;if(t._json_id===e)return t;if(t.children)for(i=t.children.length;i--;)if(n=this.findNode(t.children[i],e))return n},getID:(e=1,function(){return e++})};t.prototype.destroy=function(){n.destroy(this.tree.id)},window.Treant=t}();